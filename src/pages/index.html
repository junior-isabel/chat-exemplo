<!doctype html>
<html>

<head>
  <title>Socket.IO chat</title>
  <link href="/styles/index.css" type="text/css" rel="stylesheet">
  <link rel="stylesheet" href="/styles/pages.css">
  <link rel="stylesheet" href="/styles/forms.css">
  <link rel="stylesheet" href="/styles/messages.css">

</head>

<body>
  <div class="page center active-page" data-component="home-page">
    <div class="apply-navbar"></div>
  </div>
  <div class="page login row" data-component="login">
    <div class="apply-navbar"></div>
    <form action="" class="form-login">
      <label for="" class="input-control">Usuário#
        <input type="text" placeholder="nome de usuário">
      </label>
      <button type="submit">login</button>
    </form>
  </div>
  <div class="page" data-component="chat">
    <div class="apply-navbar"></div>
  </div>
  <div class="page" data-component="profile">
    <div class="apply-navbar"></div>
  </div>
  <div class="page" data-component="messages">
    <div class="apply-navbar"></div>
    <ul class="list-messages">
      <li>
        <img class="user-thumbnail" src="/images/teamember.png" width="80" height="80" alt="">
        <div class="user-description">
          <label for="">my name is: </label>
          <label for="">Id: </label>
        </div>
      </li>
    </ul>
  </div>
  <div class="page" data-component="about">
    <div class="apply-navbar"></div>
  </div>
  <template id="app-navbar">
    <nav class="navbar">
      <span class="btn-login" data-route-link="/login">log in</span>
      <ul class="menu">
        <li data-route-link="/home-page">Início</li>
        <li data-route-link="/chat">Chat</li>
        <li data-route-link="/messages">Mensagens</li>
        <li data-route-link="/profile">perfil</li>
        <li data-route-link="/about">sobre</li>
      </ul>
    </nav>
  </template>
  <!--
    <h3 id="nickname"></h3>
    <span class="badge" id="badge"></span>
    <ul id="messages"></ul>
    <form action="" id="form-login">
      <label for="nickname">Nickname:
        <input id="nickname" autocomplete="off" name="nickname" />
      </label>
      <button>login</button>
    </form>
    <form action="" id="form-message">
      <input id="m" autocomplete="off" name="message" /><button>Send</button>
    </form>
  -->
  
  <script src="/js/components.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/controllerChat.js"></script>
  <script src="/js/formMessage.js"></script>
  <script src="/js/userController.js"></script>
  <script src="/js/formLogin.js"></script>
  <script src="/js/routes.js"></script>
  <script>
    var socket = io();
    var nickname = null
  /*  document.querySelector('#login').addEventListener('submit', (e) => {
        e.preventDefault()
        e.stopPropagation()
        let value = e.target.nickname.value
        socket.emit('nickname', {
          nickname: value
        })
      })
      document.querySelector('#form').addEventListener('submit', (event) => {
        event.preventDefault()
        const message = event.target.message.value
        socket.emit('message chat', {message, nickname})
        event.target.message.value = ''
        return false
      })
  
      socket.on('user connected', (data) => {
        console.log(data)
      })
      socket.on('message chat', (msg) => {
        console.log(msg)
        let message = document.createElement('li')
        message.innerText = msg
        document.querySelector('#messages').appendChild(message)
      })
  
      socket.on('new user', (data) => {
        console.log(data)
        document.querySelector('#badge').innerText = data.length - 1
      })
      */
  </script>

  <script>
    channel(socket)
    OnlineUser(socket)
  </script>

</body>

</html>